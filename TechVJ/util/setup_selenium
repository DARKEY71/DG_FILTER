from selenium import webdriver
from selenium.webdriver.chrome.service import Service
from selenium.webdriver.chrome.options import Options

# Define the path for ChromeDriver
CHROMEDRIVER_PATH = "TechVJ/util/install_chromedriver.py"  # Change as needed for your system

def setup_selenium():
    options = Options()
    options.add_argument("--headless")  # Run Chrome in headless mode
    options.add_argument("--no-sandbox")
    options.add_argument("--disable-dev-shm-usage")
    # No need to set binary_location; it uses the default Chrome binary

    service = Service(CHROMEDRIVER_PATH)
    driver = webdriver.Chrome(service=service, options=options)
    return driver

def fetch_lyrics_page(url):
    try:
        driver = setup_selenium()
        driver.get(url)  # Open the webpage
        content = driver.page_source  # Get the page source
        driver.quit()  # Close the browser
        return content
    except Exception as e:
        return f"Error: {e}"

# Example usage
url = "https://api.genius.com/search"
lyrics_page = fetch_lyrics_page(url)
print(lyrics_page)
